import{d as F,u as x,r as h,C as L,a as o,c as D,n as I,E as N,H as S,b as c,o as a,e as l,w as n,g as e,Z as B,k as u,T as w,f as p,I as J,K as P,L as V,M as Z,m as $,z as j}from"./index.1c05a18d.js";import{u as z}from"./usePageTitle.66acb585.js";const M=F({__name:"FlowRun",setup(E){const d=x(),f=h("Logs"),i=L("id"),_=o(()=>{const t=["Logs","Task Runs","Subflow Runs","Parameters"];return $.xl||t.push("Details"),t}),m=D(),v=I(m.flowRuns.getFlowRun,[i],{interval:3e4}),s=o(()=>v.response);N(i,(t,r)=>{t!==r&&(f.value="Logs")});const R=o(()=>{var t;return(t=s.value)!=null&&t.parameters?JSON.stringify(s.value.parameters,void 0,2):"{}"});function y(){d.push(j.flowRuns())}const k=o(()=>{var t;return(t=s.value)==null?void 0:t.stateType});S(k);const b=o(()=>s.value?`Flow Run: ${s.value.name}`:"Flow Run");return z(b),(t,r)=>{const g=c("p-tabs"),T=c("p-layout-well");return a(),l(T,{class:"flow-run"},{header:n(()=>[e(s)?(a(),l(e(B),{key:0,"flow-run-id":e(s).id,onDelete:y},null,8,["flow-run-id"])):u("",!0)]),well:n(()=>[e(s)?(a(),l(e(w),{key:0,"flow-run":e(s),alternate:""},null,8,["flow-run"])):u("",!0)]),default:n(()=>[p(g,{selected:f.value,"onUpdate:selected":r[0]||(r[0]=C=>f.value=C),tabs:e(_)},{details:n(()=>[e(s)?(a(),l(e(w),{key:0,"flow-run":e(s)},null,8,["flow-run"])):u("",!0)]),logs:n(()=>[e(s)?(a(),l(e(J),{key:0,"flow-run":e(s)},null,8,["flow-run"])):u("",!0)]),"task-runs":n(()=>[e(s)?(a(),l(e(P),{key:0,"flow-run-id":e(s).id},null,8,["flow-run-id"])):u("",!0)]),"subflow-runs":n(()=>[e(s)?(a(),l(e(V),{key:0,"flow-run-id":e(s).id},null,8,["flow-run-id"])):u("",!0)]),parameters:n(()=>[p(e(Z),{value:e(R)},null,8,["value"])]),_:1},8,["selected","tabs"])]),_:1})}}});export{M as default};
