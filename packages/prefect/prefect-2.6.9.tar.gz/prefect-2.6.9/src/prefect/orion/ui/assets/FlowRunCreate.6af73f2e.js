import{d as k,c as v,C as D,u as b,n as F,a as p,b as T,g as t,o as x,e as B,w as d,f as i,al as S,am as N,k as V,an as z,ao as I,z as y,aa as f}from"./index.1c05a18d.js";import{u as J}from"./usePageTitle.66acb585.js";const Y=k({__name:"FlowRunCreate",setup(M){const c=v(),a=D("id"),n=b(),w=F(c.deployments.getDeployment,[a]),e=p(()=>w.response),_=async s=>{var r,o,u;try{const l=await c.deployments.createDeploymentFlowRun(a.value,s),m=(u=(o=(r=s.state)==null?void 0:r.stateDetails)==null?void 0:o.scheduledTime)!=null?u:void 0,R=!m,g=z(I,{flowRun:l,flowRunRoute:y.flowRun,router:n,immediate:R,startTime:m});f(g,"success"),n.push(y.deployment(a.value))}catch(l){f("Something went wrong trying to create a flow run","error"),console.error(l)}},h=()=>{n.back()},C=p(()=>e.value?`Create Flow Run for Deployment: ${e.value.name}`:"Create Flow Run for Deployment");return J(C),(s,r)=>{const o=T("p-layout-default");return t(e)?(x(),B(o,{key:0},{header:d(()=>[i(t(S),{deployment:t(e)},null,8,["deployment"])]),default:d(()=>[i(t(N),{deployment:t(e),onSubmit:_,onCancel:h},null,8,["deployment"])]),_:1})):V("",!0)}}});export{Y as default};
