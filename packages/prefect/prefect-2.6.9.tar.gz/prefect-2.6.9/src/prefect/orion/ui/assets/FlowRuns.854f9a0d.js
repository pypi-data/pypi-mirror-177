import{t as G,A as T,J as Y,d as j,u as q,c as I,n as c,a,Y as K,r as L,b as k,o as s,e as u,w as i,f as t,g as e,h as M,i as b,D as Q,F as h,O as W,m as C,R as X,j as Z,k as d,l as g,G as ee,$ as se,p as V,q as te,s as oe,v as ne,P as le,x as ae,y as ue,z as re}from"./index.1c05a18d.js";import{u as ce}from"./usePageTitle.66acb585.js";class ie extends T(Y){}const de=G(new ie);const pe={class:"flow-runs__list"},fe={class:"flow-runs__list-controls"},_e=j({__name:"FlowRuns",setup(x){const D=q(),p=I(),R=c(p.flowRuns.getFlowRunsCount,[{}]),S=a(()=>R.executed),A=a(()=>R.response===0),{filter:f,hasFilters:B,startDate:N,endDate:O,name:m,sort:w}=K(),_={interval:3e4},y=c(p.flowRuns.getFlowRunsCount,[f],_),P=a(()=>y.response),U=c(de.getFlowRunHistory,[f],_),H=a(()=>{var o;return(o=U.response)!=null?o:[]}),v=c(p.flowRuns.getFlowRuns,[f],_),F=a(()=>{var o;return(o=v.response)!=null?o:[]}),r=L([]);function J(){D.push(re.flowRuns())}const $=()=>{r.value=[],v.refresh(),y.refresh()};return ce("Flow Runs"),(o,n)=>{const z=k("p-button"),E=k("p-layout-default");return s(),u(E,{class:"flow-runs"},{header:i(()=>[t(e(M))]),default:i(()=>[e(S)?(s(),b(h,{key:0},[e(A)?(s(),u(e(Q),{key:0})):(s(),b(h,{key:1},[t(e(W)),e(C).md?(s(),u(e(X),Z({key:0,history:e(H)},{startDate:e(N),endDate:e(O)},{class:"flow-runs__chart"}),null,16,["history"])):d("",!0),g("div",pe,[g("div",fe,[t(e(ee),{count:e(P),class:"mr-auto"},null,8,["count"]),e(C).md?(s(),u(e(se),{key:0,modelValue:e(m),"onUpdate:modelValue":n[0]||(n[0]=l=>V(m)?m.value=l:null),placeholder:"Search by run name",label:"Search by run name"},null,8,["modelValue"])):d("",!0),t(e(te),{modelValue:e(w),"onUpdate:modelValue":n[1]||(n[1]=l=>V(w)?w.value=l:null)},null,8,["modelValue"]),t(e(oe),{selected:r.value,onDelete:$},null,8,["selected"])]),t(e(ne),{selected:r.value,"onUpdate:selected":n[2]||(n[2]=l=>r.value=l),"flow-runs":e(F)},null,8,["selected","flow-runs"]),e(F).length?d("",!0):(s(),u(e(le),{key:0},ae({_:2},[e(B)?{name:"actions",fn:i(()=>[t(z,{size:"sm",secondary:"",onClick:J},{default:i(()=>[ue(" Clear Filters ")]),_:1})]),key:"0"}:void 0]),1024))])],64))],64)):d("",!0)]),_:1})}}});export{_e as default};
