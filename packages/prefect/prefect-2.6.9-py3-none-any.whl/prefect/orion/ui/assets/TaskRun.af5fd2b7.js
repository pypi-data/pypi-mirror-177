import{d as y,u as h,C,c as x,a,S as c,H as D,b as i,g as t,o as S,e as N,w as n,f as u,U as V,V as p,W as A,M as B,k as F,m as J,z as j}from"./index.1c05a18d.js";import{u as z}from"./usePageTitle.66acb585.js";const P=y({__name:"TaskRun",setup(H){const k=h(),o=C("id"),r=x(),d=a(()=>{const s=["Logs","Task Inputs"];return J.xl||s.push("Details"),s}),f=a(()=>o.value?[o.value]:null),R=c(r.taskRuns.getTaskRun,f,{interval:3e4}),e=a(()=>R.response),l=a(()=>{var s;return(s=e.value)==null?void 0:s.flowRunId}),m=a(()=>l.value?[l.value]:null),v=c(r.flowRuns.getFlowRun,m),_=a(()=>{var s;return(s=e.value)!=null&&s.taskInputs?JSON.stringify(e.value.taskInputs,void 0,2):"{}"});function w(){v.refresh(),k.push(j.flowRun(l.value))}const g=a(()=>{var s;return(s=e.value)==null?void 0:s.stateType});D(g);const T=a(()=>e.value?`Task Run: ${e.value.name}`:"Task Run");return z(T),(s,L)=>{const b=i("p-tabs"),I=i("p-layout-well");return t(e)?(S(),N(I,{key:0,class:"task-run"},{header:n(()=>[u(t(V),{"task-run-id":t(e).id,onDelete:w},null,8,["task-run-id"])]),well:n(()=>[u(t(p),{alternate:"","task-run":t(e)},null,8,["task-run"])]),default:n(()=>[u(b,{tabs:t(d)},{details:n(()=>[u(t(p),{"task-run":t(e)},null,8,["task-run"])]),logs:n(()=>[u(t(A),{"task-run":t(e)},null,8,["task-run"])]),"task-inputs":n(()=>[u(t(B),{value:t(_)},null,8,["value"])]),_:1},8,["tabs"])]),_:1})):F("",!0)}}});export{P as default};
