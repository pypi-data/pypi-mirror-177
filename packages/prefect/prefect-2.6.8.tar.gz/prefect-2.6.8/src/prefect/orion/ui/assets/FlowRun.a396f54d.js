import{d as T,u as h,r as x,e as l,a as C,b as L,I as N,J as S,g as c,o as t,h as u,w as n,j as e,K as D,s as o,L as _,i as p,M as J,N as P,O as j,Q as B,n as I,G as O}from"./index.f501c99b.js";import{u as V}from"./useRouteParam.2c81f519.js";import{u as A}from"./usePageTitle.5cb2ef88.js";const Q=T({__name:"FlowRun",setup(E){const w=h(),i=x("Logs"),f=V("id"),m=l(()=>{const a=["Logs","Task Runs","Subflow Runs","Parameters"];return I.xl||a.push("Details"),a}),d=C(),v=L(d.flowRuns.getFlowRun,[f],{interval:3e4}),s=l(()=>v.response);N(f,(a,r)=>{a!==r&&(i.value="Logs")});const R=l(()=>{var a;return(a=s.value)!=null&&a.parameters?JSON.stringify(s.value.parameters,void 0,2):"{}"});function y(){w.push(O.flowRuns())}const b=l(()=>{var a;return(a=s.value)==null?void 0:a.stateType});S(b);const k=l(()=>s.value?`Flow Run: ${s.value.name}`:"Flow Run");return A(k),(a,r)=>{const g=c("p-tabs"),F=c("p-layout-well");return t(),u(F,{class:"flow-run"},{header:n(()=>[e(s)?(t(),u(e(D),{key:0,"flow-run-id":e(s).id,onDelete:y},null,8,["flow-run-id"])):o("",!0)]),well:n(()=>[e(s)?(t(),u(e(_),{key:0,"flow-run":e(s),alternate:""},null,8,["flow-run"])):o("",!0)]),default:n(()=>[p(g,{selected:i.value,"onUpdate:selected":r[0]||(r[0]=$=>i.value=$),tabs:e(m)},{details:n(()=>[e(s)?(t(),u(e(_),{key:0,"flow-run":e(s)},null,8,["flow-run"])):o("",!0)]),logs:n(()=>[e(s)?(t(),u(e(J),{key:0,"flow-run":e(s)},null,8,["flow-run"])):o("",!0)]),"task-runs":n(()=>[e(s)?(t(),u(e(P),{key:0,"flow-run-id":e(s).id},null,8,["flow-run-id"])):o("",!0)]),"subflow-runs":n(()=>[e(s)?(t(),u(e(j),{key:0,"flow-run-id":e(s).id},null,8,["flow-run-id"])):o("",!0)]),parameters:n(()=>[p(e(B),{value:e(R)},null,8,["value"])]),_:1},8,["selected","tabs"])]),_:1})}}});export{Q as default};
