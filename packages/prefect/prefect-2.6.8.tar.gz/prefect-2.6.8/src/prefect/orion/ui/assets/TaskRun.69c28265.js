import{d as I,u as y,a as D,e,J as $,g as i,j as a,o as x,h as C,w as n,i as u,V as S,W as c,X as A,Q as F,s as J,n as N,G as V}from"./index.f501c99b.js";import{u as W}from"./useRouteParam.2c81f519.js";import{u as p}from"./useSubscriptionWithDependencies.ac8b808f.js";import{u as B}from"./usePageTitle.5cb2ef88.js";const X=I({__name:"TaskRun",setup(P){const k=y(),l=W("id"),r=D(),m=e(()=>{const s=["Logs","Task Inputs"];return N.xl||s.push("Details"),s}),_=e(()=>l.value?[l.value]:null),f=p(r.taskRuns.getTaskRun,_,{interval:3e4}),t=e(()=>f.response),o=e(()=>{var s;return(s=t.value)==null?void 0:s.flowRunId}),d=e(()=>o.value?[o.value]:null),R=p(r.flowRuns.getFlowRun,d),v=e(()=>{var s;return(s=t.value)!=null&&s.taskInputs?JSON.stringify(t.value.taskInputs,void 0,2):"{}"});function w(){R.refresh(),k.push(V.flowRun(o.value))}const g=e(()=>{var s;return(s=t.value)==null?void 0:s.stateType});$(g);const T=e(()=>t.value?`Task Run: ${t.value.name}`:"Task Run");return B(T),(s,j)=>{const b=i("p-tabs"),h=i("p-layout-well");return a(t)?(x(),C(h,{key:0,class:"task-run"},{header:n(()=>[u(a(S),{"task-run-id":a(t).id,onDelete:w},null,8,["task-run-id"])]),well:n(()=>[u(a(c),{alternate:"","task-run":a(t)},null,8,["task-run"])]),default:n(()=>[u(b,{tabs:a(m)},{details:n(()=>[u(a(c),{"task-run":a(t)},null,8,["task-run"])]),logs:n(()=>[u(a(A),{"task-run":a(t)},null,8,["task-run"])]),"task-inputs":n(()=>[u(a(F),{value:a(v)},null,8,["value"])]),_:1},8,["tabs"])]),_:1})):J("",!0)}}});export{X as default};
