import{c as T,A as j,U as G,d as W,u as Z,a as I,b as c,e as l,f as J,r as K,g as b,o as s,h as u,w as i,i as t,j as e,_ as L,k,l as M,F as C,m as Q,n as h,p as X,q as Y,s as _,t as g,v as ee,x as se,y as V,z as te,B as oe,C as ne,P as ae,D as le,E as ue,G as re}from"./index.f501c99b.js";import{u as ce}from"./usePageTitle.5cb2ef88.js";class ie extends j(G){}const _e=T(new ie);const de={class:"flow-runs__list"},pe={class:"flow-runs__list-controls"},we=W({__name:"FlowRuns",setup(x){const $=Z(),d=I(),R=c(d.flowRuns.getFlowRunsCount,[{}]),A=l(()=>R.executed),S=l(()=>R.response===0),{filter:p,hasFilters:D,startDate:U,endDate:B,name:f,sort:m}=J(),w={interval:3e4},y=c(d.flowRuns.getFlowRunsCount,[p],w),N=l(()=>y.response),P=c(_e.getFlowRunHistory,[p],w),E=l(()=>{var o;return(o=P.response)!=null?o:[]}),F=c(d.flowRuns.getFlowRuns,[p],w),v=l(()=>{var o;return(o=F.response)!=null?o:[]}),r=K([]);function H(){$.push(re.flowRuns())}const q=()=>{r.value=[],F.refresh(),y.refresh()};return ce("Flow Runs"),(o,n)=>{const z=b("p-button"),O=b("p-layout-default");return s(),u(O,{class:"flow-runs"},{header:i(()=>[t(e(L))]),default:i(()=>[e(A)?(s(),k(C,{key:0},[e(S)?(s(),u(e(M),{key:0})):(s(),k(C,{key:1},[t(e(Q)),e(h).md?(s(),u(e(X),Y({key:0,history:e(E)},{startDate:e(U),endDate:e(B)},{class:"flow-runs__chart"}),null,16,["history"])):_("",!0),g("div",de,[g("div",pe,[t(e(ee),{count:e(N),class:"mr-auto"},null,8,["count"]),e(h).md?(s(),u(e(se),{key:0,modelValue:e(f),"onUpdate:modelValue":n[0]||(n[0]=a=>V(f)?f.value=a:null),placeholder:"Search by run name",label:"Search by run name"},null,8,["modelValue"])):_("",!0),t(e(te),{modelValue:e(m),"onUpdate:modelValue":n[1]||(n[1]=a=>V(m)?m.value=a:null)},null,8,["modelValue"]),t(e(oe),{selected:r.value,onDelete:q},null,8,["selected"])]),t(e(ne),{selected:r.value,"onUpdate:selected":n[2]||(n[2]=a=>r.value=a),"flow-runs":e(v)},null,8,["selected","flow-runs"]),e(v).length?_("",!0):(s(),u(e(ae),{key:0},le({_:2},[e(D)?{name:"actions",fn:i(()=>[t(z,{size:"sm",secondary:"",onClick:H},{default:i(()=>[ue(" Clear Filters ")]),_:1})]),key:"0"}:void 0]),1024))])],64))],64)):_("",!0)]),_:1})}}});export{we as default};
