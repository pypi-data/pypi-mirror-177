"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[3718],{33718:(e,t,a)=>{a.r(t),a.d(t,{default:()=>se,toggleHeader:()=>ee});var n,o=a(7032),s=a(32262),i=a(93815),r=a(82148),l=a(45555),c=a(26590),d=a(57363),u=a(39787),m=a(97897),p=a(19691),g=a(41277),h=a(44946),f=a(77379),y=a.n(f),b=a(72245),v=a(43491);function _(e){const{manager:t,onClose:a,parser:n,trans:o}=e,[s,i]=b.useState([]),[r,l]=b.useState(null),c=b.useCallback(y()(n),[n]);return b.useEffect((()=>{async function e(){i(await Promise.all(t.notifications.map((async e=>Object.freeze({...e,message:await c(e.message)})))))}return s.length!==t.count&&e(),t.changed.connect(e),()=>{t.changed.disconnect(e)}}),[t]),b.useEffect((()=>{k.getIcons().then((e=>{l(e)})).catch((e=>{console.error(`Failed to get react-toastify icons:\n${e}`)}))}),[]),b.createElement(d.UseSignal,{signal:t.changed},(()=>b.createElement(b.Fragment,null,b.createElement("h2",{className:"jp-Notification-Header jp-Toolbar"},b.createElement("span",{className:"jp-Toolbar-item"},t.count>0?o._n("%1 notification","%1 notifications",t.count):o.__("No notifications")),b.createElement("span",{className:"jp-Toolbar-item jp-Toolbar-spacer"}),b.createElement(d.ToolbarButtonComponent,{actualOnClick:!0,onClick:()=>{t.dismiss()},icon:d.deleteIcon,tooltip:o.__("Dismiss all notifications"),enabled:t.count>0}),b.createElement(d.ToolbarButtonComponent,{actualOnClick:!0,onClick:a,icon:d.closeIcon,tooltip:o.__("Hide notifications")})),b.createElement("ol",{className:"jp-Notification-List"},s.map((e=>{var a;const{id:n,message:s,type:i,options:l}=e,c="in-progress"===i?"default":i,u=()=>{t.dismiss(n)},m="default"===i?null:"in-progress"===i?null!==(a=null==r?void 0:r.spinner)&&void 0!==a?a:null:r&&r[i];return b.createElement("li",{className:"jp-Notification-List-Item",key:e.id,onClick:e=>{e.stopPropagation()}},b.createElement("div",{className:`Toastify__toast Toastify__toast-theme--light Toastify__toast--${c} jp-Notification-Toast-${c}`},b.createElement("div",{className:"Toastify__toast-body"},m&&b.createElement("div",{className:"Toastify__toast-icon"},m({theme:"light",type:c})),b.createElement("div",null,k.createContent(s,u,l.actions))),b.createElement("button",{className:"jp-Button jp-mod-minimal jp-Notification-Toast-Close",title:o.__("Dismiss notification"),onClick:u},b.createElement(d.deleteIcon.react,{className:"jp-icon-hover",tag:"span"}))))}))))))}!function(e){e.dismiss="apputils:dismiss-notification",e.display="apputils:display-notifications",e.notify="apputils:notify",e.update="apputils:update-notification"}(n||(n={}));class w extends d.VDomModel{constructor(e){super(),this.manager=e,this._highlight=!1,this._listOpened=!1,this._doNotDisturbMode=!1,this._count=e.count,this.manager.changed.connect(this.onNotificationChanged,this)}get count(){return this._count}get doNotDisturbMode(){return this._doNotDisturbMode}set doNotDisturbMode(e){this._doNotDisturbMode=e}get highlight(){return this._highlight}get listOpened(){return this._listOpened}set listOpened(e){this._listOpened=e,(this._listOpened||this._highlight)&&(this._highlight=!1),this.stateChanged.emit()}onNotificationChanged(e,t){this._count=this.manager.count;const{autoClose:a}=t.notification.options,n=this.doNotDisturbMode||"number"==typeof a&&a<=0;!this._listOpened&&"removed"!==t.type&&n&&(this._highlight=!0),this.stateChanged.emit()}}function C(e){return b.createElement(h.GroupItem,{spacing:4,onClick:()=>{e.onClick()},title:e.count>0?e.trans._n("%1 notification","%1 notifications",e.count):e.trans.__("No notifications")},b.createElement(h.TextItem,{className:"jp-Notification-Status-Text",source:`${e.count}`}),b.createElement(d.bellIcon.react,{top:"2px",stylesheet:"statusBar"}))}const S={id:"@jupyterlab/apputils-extension:notification",autoStart:!0,requires:[h.IStatusBar],optional:[g.IMarkdownParser,s.ISanitizer,r.ISettingRegistry,c.ITranslator],activate:(e,t,a,o,i,r)=>{k.translator=null!=r?r:c.nullTranslator;const l=k.translator.load("jupyterlab"),u=new w(s.Notification.manager);u.doNotDisturbMode=!1,i&&Promise.all([i.load(S.id),e.restored]).then((([e])=>{const t=()=>{u.doNotDisturbMode=e.get("doNotDisturbMode").composite};t(),e.changed.connect(t)}));const m=o&&a?async e=>o.sanitize(await a.render(e)):e=>Promise.resolve(e);e.commands.addCommand(n.notify,{label:l.__("Emit a notification"),caption:l.__("Notification is described by {message: string, type?: string, options?: {autoClose?: number | false, actions: {label: string, commandId: string, args?: ReadOnlyJSONObject, caption?: string, className?: string}[], data?: ReadOnlyJSONValue}}."),execute:t=>{var a;const{message:n,type:o}=t,i=null!==(a=t.options)&&void 0!==a?a:{};return s.Notification.manager.notify(n,null!=o?o:"default",{...i,actions:i.actions?i.actions.map((t=>({...t,callback:()=>{e.commands.execute(t.commandId,t.args).catch((e=>{console.error(`Failed to executed '${t.commandId}':\n${e}`)}))}}))):null})}}),e.commands.addCommand(n.update,{label:l.__("Update a notification"),caption:l.__("Notification is described by {id: string, message: string, type?: string, options?: {autoClose?: number | false, actions: {label: string, commandId: string, args?: ReadOnlyJSONObject, caption?: string, className?: string}[], data?: ReadOnlyJSONValue}}."),execute:t=>{const{id:a,message:n,type:o,...i}=t;return s.Notification.manager.update({id:a,message:n,type:null!=o?o:"default",...i,actions:i.actions?i.actions.map((t=>({...t,callback:()=>{e.commands.execute(t.commandId,t.args).catch((e=>{console.error(`Failed to executed '${t.commandId}':\n${e}`)}))}}))):null})}}),e.commands.addCommand(n.dismiss,{label:l.__("Dismiss a notification"),execute:e=>{const{id:t}=e;s.Notification.manager.dismiss(t)}});let p=null;u.listOpened=!1;const g=s.ReactWidget.create(b.createElement(_,{manager:s.Notification.manager,onClose:()=>{null==p||p.dispose()},parser:m,trans:l}));g.addClass("jp-Notification-Center"),s.Notification.manager.changed.connect((async function(e,t){var a;if(u.doNotDisturbMode||null!==p&&!p.isDisposed)return;const{message:n,type:o,options:s,id:i}=t.notification;if(!("number"==typeof s.autoClose&&s.autoClose<=0))switch(t.type){case"added":await k.createToast(i,await m(n),o,s);break;case"updated":{const e=await k.toast(),t=s.actions,r=null!==(a=s.autoClose)&&void 0!==a?a:!(t&&t.length>0)&&null;if(e.isActive(i)){const t=()=>{e.dismiss(i)};e.update(i,{type:"in-progress"===o?null:o,isLoading:"in-progress"===o,autoClose:r,render:k.createContent(await m(n),t,s.actions)})}else await k.createToast(i,await m(n),o,s)}break;case"removed":await k.toast().then((e=>{e.dismiss(i)}))}}));const f=()=>{p?(p.dispose(),p=null):k.toast().then((e=>{e.dismiss()})).catch((e=>{console.error(`Failed to dismiss all toasts:\n${e}`)})).finally((()=>{p=(0,h.showPopup)({body:g,anchor:y,align:"right",hasDynamicSize:!0}),g.node.focus(),p.disposed.connect((()=>{u.listOpened=!1,p=null}))})),u.listOpened=null!==p};e.commands.addCommand(n.display,{label:l.__("Show Notifications"),execute:f});const y=s.ReactWidget.create(b.createElement(d.UseSignal,{signal:u.stateChanged},(()=>(u.highlight||p&&!p.isDisposed?y.addClass("jp-mod-selected"):y.removeClass("jp-mod-selected"),b.createElement(C,{count:u.count,highlight:u.highlight,trans:l,onClick:f})))));y.addClass("jp-Notification-Status"),t.registerStatusItem(S.id,{item:y,align:"right",rank:-1})}};var k;!function(e){e.translator=c.nullTranslator;let t=null;function n(t){const a=e.translator.load("jupyterlab");return b.createElement("button",{className:"jp-Button jp-mod-minimal jp-Notification-Toast-Close",title:a.__("Close notification"),onClick:t.closeToast},b.createElement(d.closeIcon.react,{className:"jp-icon-hover",tag:"span"}))}async function o(){if(null===t){t=await a.e(53).then(a.t.bind(a,60053,23));const e=document.body.appendChild(document.createElement("div"));e.id="react-toastify-container",v.render(b.createElement(t.ToastContainer,{draggable:!1,closeOnClick:!1,hideProgressBar:!0,newestOnTop:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,position:"bottom-right",className:"jp-toastContainer",transition:t.Slide,closeButton:n}),e)}return t.toast}function s({action:e,closeToast:t}){var a;return b.createElement(d.Button,{title:null!==(a=e.caption)&&void 0!==a?a:e.label,className:"jp-toast-button",onClick:()=>{t(),e.callback()},small:!0},e.label)}function i(e,t,a){var n;return b.createElement(b.Fragment,null,b.createElement("div",{dangerouslySetInnerHTML:{__html:e}}),(null!==(n=null==a?void 0:a.length)&&void 0!==n?n:0)>0&&b.createElement("div",{className:"jp-toast-buttonBar"},b.createElement("div",{className:"jp-toast-spacer"}),a.map(((e,a)=>b.createElement(s,{key:"button-"+a,action:e,closeToast:t})))))}e.toast=o,e.getIcons=async function(){return null===t&&await o(),t.Icons},e.createContent=i,e.createToast=async function(e,t,a,n={}){const{actions:s,autoClose:r,data:l}=n;return(await o())((({closeToast:e})=>i(t,e,s)),{autoClose:null!=r?r:!(s&&s.length>0)&&void 0,data:l,className:`jp-Notification-Toast-${a}`,toastId:e,type:"in-progress"===a?null:a,isLoading:"in-progress"===a})}}(k||(k={}));var I,T,j=a(39233),x=a(97989),E=a(34340);!function(e){e.activate="apputils:activate-command-palette"}(I||(I={}));class N{constructor(e,t){this.translator=t||c.nullTranslator;const a=this.translator.load("jupyterlab");this._palette=e,this._palette.title.label="",this._palette.title.caption=a.__("Command Palette")}set placeholder(e){this._palette.inputNode.placeholder=e}get placeholder(){return this._palette.inputNode.placeholder}activate(){this._palette.activate()}addItem(e){const t=this._palette.addItem(e);return new m.DisposableDelegate((()=>{this._palette.removeItem(t)}))}}!function(e){e.activate=function(t,a,n){const{commands:o,shell:i}=t,r=a.load("jupyterlab"),l=T.createPalette(t,a),c=new s.ModalCommandPalette({commandPalette:l});let d=!1;if(l.node.setAttribute("role","region"),l.node.setAttribute("aria-label",r.__("Command Palette Section")),i.add(l,"left",{rank:300,type:"Command Palette"}),n){const e=n.load("@jupyterlab/apputils-extension:palette"),a=e=>{const t=e.get("modal").composite;d&&!t?(l.parent=null,c.detach(),i.add(l,"left",{rank:300,type:"Command Palette"})):!d&&t&&(l.parent=null,c.palette=l,l.show(),c.attach()),d=t};Promise.all([e,t.restored]).then((([e])=>{a(e),e.changed.connect((e=>{a(e)}))})).catch((e=>{console.error(e.message)}))}const u=()=>{const e=(0,j.find)(t.commands.keyBindings,(e=>e.command===I.activate));if(e){const t=e.keys.map(x.CommandRegistry.formatKeystroke).join(", ");l.title.caption=r.__("Commands (%1)",t)}else l.title.caption=r.__("Commands")};return u(),t.commands.keyBindingChanged.connect((()=>{u()})),o.addCommand(I.activate,{execute:()=>{d?c.activate():i.activateById(l.id)},label:r.__("Activate Command Palette")}),l.inputNode.placeholder=r.__("SEARCH"),new e(l,a)},e.restore=function(e,t,a){const n=T.createPalette(e,a);t.add(n,"command-palette")}}(N||(N={})),function(e){let t;e.createPalette=function(e,a){if(!t){t=new E.CommandPalette({commands:e.commands,renderer:d.CommandPaletteSvg.defaultRenderer}),t.id="command-palette",t.title.icon=d.paletteIcon;const n=a.load("jupyterlab");t.title.label=n.__("Commands")}return t}}(T||(T={}));class P extends l.DataConnector{constructor(e){super(),this._throttlers=Object.create(null),this._connector=e}fetch(e){const t=this._throttlers;return e in t||(t[e]=new p.Throttler((()=>this._connector.fetch(e)),100)),t[e].invoke()}async list(e="all"){const{isDeferred:t,isDisabled:a}=i.PageConfig.Extension,{ids:n,values:o}=await this._connector.list();return"all"===e?{ids:n,values:o}:{ids:n.filter((e=>!t(e)&&!a(e))),values:o.filter((({id:e})=>!t(e)&&!a(e)))}}async save(e,t){await this._connector.save(e,t)}}const F={id:"@jupyterlab/apputils-extension:settings",activate:async e=>{const{isDisabled:t}=i.PageConfig.Extension,a=new P(e.serviceManager.settings),n=new r.SettingRegistry({connector:a,plugins:(await a.list("active")).values.filter((t=>e.hasPlugin(t.id)))});return e.restored.then((async()=>{const o=await a.list("all");o.ids.forEach((async(a,s)=>{if(e.hasPlugin(a)&&!t(a)&&!(a in n.plugins))try{await n.load(a)}catch(e){console.warn(`Settings failed to load for (${a})`,e),o.values[s].schema["jupyter.lab.transform"]&&console.warn(`This may happen if {autoStart: false} in (${a}) or if it is one of the deferredExtensions in page config.`)}}))})),n},autoStart:!0,provides:r.ISettingRegistry},D={id:"@jupyterlab/apputils-extension:kernel-status",autoStart:!0,requires:[h.IStatusBar,c.ITranslator],provides:s.IKernelStatusModel,optional:[s.ISessionContextDialogs,o.ILabShell],activate:(e,t,a,n,o)=>{const i=new s.KernelStatus({onClick:async()=>{i.model.sessionContext&&await(null!=n?n:s.sessionContextDialogs).selectKernel(i.model.sessionContext,a)}},a),r=new Set;function l(e,t){var a;const{oldValue:n,newValue:o}=t;n&&n.title.changed.disconnect(c),i.model.sessionContext=null!==(a=[...r].map((e=>e(t.newValue))).filter((e=>null!==e))[0])&&void 0!==a?a:null,o&&i.model.sessionContext&&(c(o.title),o.title.changed.connect(c))}const c=e=>{i.model.activityName=e.label};return o&&o.currentChanged.connect(l),t.registerStatusItem(D.id,{item:i,align:"left",rank:1,isActive:()=>null!==i.model.sessionContext}),{addSessionProvider:t=>{r.add(t),e.shell.currentWidget&&l(e.shell,{newValue:e.shell.currentWidget,oldValue:null})}}}},O={id:"@jupyterlab/apputils-extension:running-sessions-status",autoStart:!0,requires:[h.IStatusBar,c.ITranslator],activate:(e,t,a)=>{const n=new s.RunningSessions({onClick:()=>e.shell.activateById("jp-running-sessions"),serviceManager:e.serviceManager,translator:a});n.model.sessions=Array.from(e.serviceManager.sessions.running()).length,n.model.terminals=Array.from(e.serviceManager.terminals.running()).length,t.registerStatusItem(O.id,{item:n,align:"left",rank:0})}};var R,W=a(26595);!function(e){e.changeTheme="apputils:change-theme",e.themeScrollbars="apputils:theme-scrollbars",e.changeFont="apputils:change-font",e.incrFontSize="apputils:incr-font-size",e.decrFontSize="apputils:decr-font-size"}(R||(R={}));const z={id:"@jupyterlab/apputils-extension:themes",requires:[r.ISettingRegistry,o.JupyterFrontEnd.IPaths,c.ITranslator],optional:[s.ISplashScreen],activate:(e,t,a,n,o)=>{const r=n.load("jupyterlab"),l=e.shell,c=e.commands,d=i.URLExt.join(i.PageConfig.getBaseUrl(),a.urls.themes),u=z.id,m=new s.ThemeManager({key:u,host:l,settings:t,splash:null!=o?o:void 0,url:d});let p;return m.themeChanged.connect(((e,t)=>{p=t.newValue,document.body.dataset.jpThemeLight=String(m.isLight(p)),document.body.dataset.jpThemeName=p,document.body.dataset.jpThemeScrollbars!==String(m.themeScrollbars(p))&&(document.body.dataset.jpThemeScrollbars=String(m.themeScrollbars(p))),c.notifyCommandChanged(R.changeTheme)})),c.addCommand(R.changeTheme,{label:e=>{if(void 0===e.theme)return r.__("Switch to the provided `theme`.");const t=e.theme,a=m.getDisplayName(t);return e.isPalette?r.__("Use Theme: %1",a):a},isToggled:e=>e.theme===p,execute:e=>{const t=e.theme;if(t!==m.theme)return m.setTheme(t)}}),c.addCommand(R.themeScrollbars,{label:r.__("Theme Scrollbars"),isToggled:()=>m.isToggledThemeScrollbars(),execute:()=>m.toggleThemeScrollbars()}),c.addCommand(R.changeFont,{label:e=>e.enabled?`${e.font}`:r.__("waiting for fonts"),isEnabled:e=>e.enabled,isToggled:e=>m.getCSS(e.key)===e.font,execute:e=>m.setCSSOverride(e.key,e.font)}),c.addCommand(R.incrFontSize,{label:e=>{switch(e.key){case"code-font-size":return r.__("Increase Code Font Size");case"content-font-size1":return r.__("Increase Content Font Size");case"ui-font-size1":return r.__("Increase UI Font Size");default:return r.__("Increase Font Size")}},execute:e=>m.incrFontSize(e.key)}),c.addCommand(R.decrFontSize,{label:e=>{switch(e.key){case"code-font-size":return r.__("Decrease Code Font Size");case"content-font-size1":return r.__("Decrease Content Font Size");case"ui-font-size1":return r.__("Decrease UI Font Size");default:return r.__("Decrease Font Size")}},execute:e=>m.decrFontSize(e.key)}),m},autoStart:!0,provides:s.IThemeManager},M={id:"@jupyterlab/apputils-extension:themes-palette-menu",requires:[s.IThemeManager,c.ITranslator],optional:[s.ICommandPalette,W.IMainMenu],activate:(e,t,a,n,o)=>{const s=a.load("jupyterlab");o&&e.restored.then((()=>{var e;const a=null===(e=o.settingsMenu.items.find((e=>{var t;return"submenu"===e.type&&"jp-mainmenu-settings-apputilstheme"===(null===(t=e.submenu)||void 0===t?void 0:t.id)})))||void 0===e?void 0:e.submenu;a&&t.themes.forEach(((e,t)=>{a.insertItem(t,{command:R.changeTheme,args:{isPalette:!1,theme:e}})}))})),n&&e.restored.then((()=>{const e=s.__("Theme"),a=R.changeTheme;t.themes.forEach((t=>{n.addItem({command:a,args:{isPalette:!0,theme:t},category:e})})),n.addItem({command:R.themeScrollbars,category:e}),n.addItem({command:R.incrFontSize,args:{key:"code-font-size"},category:e}),n.addItem({command:R.decrFontSize,args:{key:"code-font-size"},category:e}),n.addItem({command:R.incrFontSize,args:{key:"content-font-size1"},category:e}),n.addItem({command:R.decrFontSize,args:{key:"content-font-size1"},category:e}),n.addItem({command:R.incrFontSize,args:{key:"ui-font-size1"},category:e}),n.addItem({command:R.decrFontSize,args:{key:"ui-font-size1"},category:e})}))},autoStart:!0},L={id:"@jupyterlab/apputils-extension:toolbar-registry",autoStart:!0,provides:s.IToolbarWidgetRegistry,activate:e=>new s.ToolbarWidgetRegistry({defaultFactory:(0,s.createDefaultFactory)(e.commands)})};var A,$=a(95393),B=a(32681);!function(e){e.saveWorkspace="workspace-ui:save",e.saveWorkspaceAs="workspace-ui:save-as"}(A||(A={}));const U="jupyterlab-workspace",q="."+U,H="workspace-ui:lastSave",J={id:"@jupyterlab/apputils-extension:workspaces",autoStart:!0,requires:[B.IFileBrowserFactory,s.IWindowResolver,l.IStateDB,c.ITranslator,o.JupyterFrontEnd.IPaths],optional:[o.IRouter],activate:(e,t,a,n,o,s,i)=>{const r=new V.WorkspaceFactory({workspaces:e.serviceManager.workspaces,router:i,state:n,translator:o,paths:s}),l=o.load("jupyterlab");e.docRegistry.addFileType({name:U,contentType:"file",fileFormat:"text",displayName:l.__("JupyterLab workspace File"),extensions:[q],mimeTypes:["text/json"],iconClass:"jp-JupyterIcon"}),e.docRegistry.addWidgetFactory(r),e.commands.addCommand(A.saveWorkspaceAs,{label:l.__("Save Current Workspace As…"),execute:async()=>{const s=e.serviceManager.workspaces.fetch(a.name);await V.saveAs(t.defaultBrowser,e.serviceManager.contents,s,n,o)}}),e.commands.addCommand(A.saveWorkspace,{label:l.__("Save Current Workspace"),execute:async()=>{const{contents:s}=e.serviceManager,i=e.serviceManager.workspaces.fetch(a.name),r=await n.fetch(H);void 0===r?await V.saveAs(t.defaultBrowser,s,i,n,o):await V.save(r,s,i,n)}})}};var V,K;!function(e){async function t(e,t,a,n){let o=e.split("/").pop();void 0!==o&&o.includes(".")?o=o.split(".")[0]:e+=q,await n.save(H,e);const s=await a;s.metadata.id=`${o}`,await t.save(e,{type:"file",format:"text",content:JSON.stringify(s)})}e.save=t,e.saveAs=async function(e,a,o,i,r){var l;r=r||c.nullTranslator;const d=await i.fetch(H);let u;u=void 0===d?"new-workspace":null===(l=d.split("/").pop())||void 0===l?void 0:l.split(".")[0];const m=e.model.path+"/"+u+q,p=await async function(e,t){const a=(t=t||c.nullTranslator).load("jupyterlab"),o=s.Dialog.okButton({label:a.__("Save")}),i=await(0,s.showDialog)({title:a.__("Save Current Workspace As…"),body:new n(e),buttons:[s.Dialog.cancelButton(),o]});return i.button.label===a.__("Save")?i.value:null}(m,r);p&&await t(p,a,o,i)};class a extends $.ABCWidgetFactory{constructor(e){super({name:"Workspace loader",label:(e.translator||c.nullTranslator).load("jupyterlab").__("Workspace loader"),fileTypes:[U],defaultFor:[U],readOnly:!0}),this._application=e.paths.urls.app,this._router=e.router,this._state=e.state,this._workspaces=e.workspaces}createNewWidget(e){return e.ready.then((async()=>{const t=e.model.toJSON(),a=e.path,n=t.metadata.id;await this._workspaces.save(n,t),await this._state.save(H,a);const o=i.URLExt.join(this._application,"workspaces",n);this._router?this._router.navigate(o,{hard:!0}):document.location.href=o})),function(e){const t=new $.DocumentWidget({content:new E.Widget,context:e});return t.content.dispose(),t}(e)}}e.WorkspaceFactory=a;class n extends E.Widget{constructor(e){super({node:o(e)})}getValue(){return this.node.value}}function o(e){const t=document.createElement("input");return t.value=e,t}}(V||(V={})),function(e){e.loadState="apputils:load-statedb",e.print="apputils:print",e.reset="apputils:reset",e.resetOnLoad="apputils:reset-on-load",e.runFirstEnabled="apputils:run-first-enabled",e.runAllEnabled="apputils:run-all-enabled",e.toggleHeader="apputils:toggle-header"}(K||(K={}));const Q={id:"@jupyterlab/apputils-extension:palette",autoStart:!0,requires:[c.ITranslator],provides:s.ICommandPalette,optional:[r.ISettingRegistry],activate:(e,t,a)=>N.activate(e,t,a)},Y={id:"@jupyterlab/apputils-extension:palette-restorer",autoStart:!0,requires:[o.ILayoutRestorer,c.ITranslator],activate:(e,t,a)=>{N.restore(e,t,a)}},G={id:"@jupyterlab/apputils-extension:resolver",autoStart:!0,provides:s.IWindowResolver,requires:[o.JupyterFrontEnd.IPaths,o.IRouter],activate:async(e,t,a)=>{const{hash:n,search:o}=a.current,r=i.URLExt.queryStringToObject(o||""),l=new s.WindowResolver,c=i.PageConfig.getOption("workspace"),d=i.PageConfig.getOption("treePath"),u="multiple-document"===i.PageConfig.getOption("mode")?"lab":"doc",m=c||i.PageConfig.defaultWorkspace,p=d?i.URLExt.join("tree",d):"";try{return await l.resolve(m),l}catch(e){return new Promise((()=>{const{base:e}=t.urls,o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=o[Math.floor(Math.random()*o.length)];let l=i.URLExt.join(e,u,"workspaces",`auto-${s}`);l=p?i.URLExt.join(l,i.URLExt.encodeParts(p)):l,r.reset="";const c=l+i.URLExt.objectToQueryString(r)+(n||"");a.navigate(c,{hard:!0})}))}}},X={id:"@jupyterlab/apputils-extension:splash",autoStart:!0,requires:[c.ITranslator],provides:s.ISplashScreen,activate:(e,t)=>{const a=t.load("jupyterlab"),{commands:n,restored:o}=e,i=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div");let c;i.id="jupyterlab-splash",r.id="galaxy",l.id="main-logo",d.jupyterFaviconIcon.element({container:l,stylesheet:"splash"}),r.appendChild(l),["1","2","3"].forEach((e=>{const t=document.createElement("div"),a=document.createElement("div");t.id=`moon${e}`,t.className="moon orbit",a.id=`planet${e}`,a.className="planet",t.appendChild(a),r.appendChild(t)})),i.appendChild(r);const u=new p.Throttler((async()=>{if(!c){c=new s.Dialog({title:a.__("Loading…"),body:a.__("The loading screen is taking a long time.\nWould you like to clear the workspace or keep waiting?"),buttons:[s.Dialog.cancelButton({label:a.__("Keep Waiting")}),s.Dialog.warnButton({label:a.__("Clear Workspace")})]});try{const e=await c.launch();if(c.dispose(),c=null,e.button.accept&&n.hasCommand(K.reset))return n.execute(K.reset);requestAnimationFrame((()=>{u.invoke().catch((e=>{}))}))}catch(e){}}}),{limit:12e3,edge:"trailing"});let g=0;return{show:(e=!0)=>(i.classList.remove("splash-fade"),i.classList.toggle("light",e),i.classList.toggle("dark",!e),g++,document.body.appendChild(i),u.invoke().catch((e=>{})),new m.DisposableDelegate((async()=>{await o,0==--g&&(u.stop(),c&&(c.dispose(),c=null),i.classList.add("splash-fade"),window.setTimeout((()=>{document.body.removeChild(i)}),200))})))}}},Z={id:"@jupyterlab/apputils-extension:print",autoStart:!0,requires:[c.ITranslator],activate:(e,t)=>{const a=t.load("jupyterlab");e.commands.addCommand(K.print,{label:a.__("Print…"),isEnabled:()=>{const t=e.shell.currentWidget;return null!==s.Printing.getPrintFunction(t)},execute:async()=>{const t=e.shell.currentWidget,a=s.Printing.getPrintFunction(t);a&&await a()}})}},ee={id:"@jupyterlab/apputils-extension:toggle-header",autoStart:!0,requires:[c.ITranslator],optional:[s.ICommandPalette],activate:(e,t,a)=>{const n=t.load("jupyterlab"),o=n.__("Main Area");e.commands.addCommand(K.toggleHeader,{label:n.__("Show Header Above Content"),isEnabled:()=>e.shell.currentWidget instanceof s.MainAreaWidget&&e.shell.currentWidget.contentHeader.widgets.length>0,isToggled:()=>{const t=e.shell.currentWidget;return t instanceof s.MainAreaWidget&&!t.contentHeader.isHidden},execute:async()=>{const t=e.shell.currentWidget;t instanceof s.MainAreaWidget&&t.contentHeader.setHidden(!t.contentHeader.isHidden)}}),a&&a.addItem({command:K.toggleHeader,category:o})}},te={id:"@jupyterlab/apputils-extension:state",autoStart:!0,provides:l.IStateDB,requires:[o.JupyterFrontEnd.IPaths,o.IRouter,c.ITranslator],optional:[s.IWindowResolver],activate:(e,t,a,n,o)=>{const s=n.load("jupyterlab");if(null===o)return new l.StateDB;let r=!1;const{commands:c,name:d,serviceManager:m}=e,{workspaces:g}=m,h=o.name,f=new u.PromiseDelegate,y=new l.StateDB({transform:f.promise}),b=new p.Debouncer((async()=>{const e=h,t={id:e},a=await y.toJSON();await g.save(e,{data:a,metadata:t})}));return y.changed.connect((()=>{b.invoke()}),y),y.changed.connect((()=>async function(e,t,a){var n,o;const s=await t.toJSON();if(void 0===(null===(o=null===(n=s["layout-restorer:data"])||void 0===n?void 0:n.main)||void 0===o?void 0:o.current))document.title=`${i.PageConfig.getOption("appName")||"JupyterLab"}${e.startsWith("auto-")?` (${e})`:""}`;else{let t=i.PathExt.basename(window.location.href);t=t.length>15?t.slice(0,12).concat("…"):t;const n=Object.keys(s).filter((e=>e.startsWith("notebook")||e.startsWith("editor"))).length;e.startsWith("auto-")?document.title=`${t} (${e}${n>1?` : ${n}`:""}) - ${a}`:document.title=`${t}${n>1?` (${n})`:""} - ${a}`}}(h,y,d))),c.addCommand(K.loadState,{label:s.__("Load state for the current workspace."),execute:async e=>{if(r)return;const{hash:t,path:n,search:o}=e,s=i.URLExt.queryStringToObject(o||""),l="string"==typeof s.clone?""===s.clone?i.PageConfig.defaultWorkspace:s.clone:null,c=l||h||null;if(null!==c){try{const e=await g.fetch(c);r||(r=!0,f.resolve({type:"overwrite",contents:e.data}))}catch({message:e}){console.warn(`Fetching workspace "${h}" failed.`,e),r||(r=!0,f.resolve({type:"cancel",contents:null}))}if(c===l){delete s.clone;const e=n+i.URLExt.objectToQueryString(s)+t,o=b.invoke().then((()=>a.stop));return o.then((()=>{a.navigate(e)})),o}await b.invoke()}else console.error(`${K.loadState} cannot load null workspace.`)}}),c.addCommand(K.reset,{label:s.__("Reset Application State"),execute:async({reload:e})=>{await y.clear(),await b.invoke(),e&&a.reload()}}),c.addCommand(K.resetOnLoad,{label:s.__("Reset state when loading for the workspace."),execute:e=>{const{hash:t,path:n,search:o}=e,s=i.URLExt.queryStringToObject(o||""),l="clone"in s;if(!("reset"in s))return;if(r)return a.reload();r=!0,f.resolve({type:"clear",contents:null}),delete s.reset;const c=n+i.URLExt.objectToQueryString(s)+t,d=y.clear().then((()=>b.invoke()));return l?d.then((()=>{a.navigate(c,{hard:!0})})):d.then((()=>{a.navigate(c)})),d}}),a.register({command:K.loadState,pattern:/.?/,rank:30}),a.register({command:K.resetOnLoad,pattern:/(\?reset|\&reset)($|&)/,rank:20}),y}},ae={id:"@jupyterlab/apputils-extension:sessionDialogs",provides:s.ISessionContextDialogs,autoStart:!0,activate:()=>s.sessionContextDialogs},ne={id:"@jupyterlab/apputils-extension:utilityCommands",requires:[c.ITranslator],autoStart:!0,activate:(e,t)=>{const a=t.load("jupyterlab"),{commands:n}=e;n.addCommand(K.runFirstEnabled,{label:a.__("Run First Enabled Command"),execute:t=>{const a=t.commands,n=t.args,o=Array.isArray(t);for(let t=0;t<a.length;t++){const s=a[t],i=o?n[t]:n;if(e.commands.isEnabled(s,i))return e.commands.execute(s,i)}}}),n.addCommand(K.runAllEnabled,{label:a.__("Run All Enabled Commands Passed as Args"),execute:async t=>{const a=t.commands,n=t.args,o=Array.isArray(t),s=t.errorIfNotEnabled;for(let t=0;t<a.length;t++){const i=a[t],r=o?n[t]:n;e.commands.isEnabled(i,r)?await e.commands.execute(i,r):s&&console.error(`${i} is not enabled.`)}}})}},oe={id:"@jupyterlab/apputils-extension:sanitizer",autoStart:!0,provides:s.ISanitizer,requires:[r.ISettingRegistry],activate:(e,t)=>{const a=new s.Sanitizer,n=e=>{const t=e.get("allowedSchemes").composite;t&&a.setAllowedSchemes(t)};return t.load("@jupyterlab/apputils-extension:sanitizer").then((e=>{n(e),e.changed.connect(n)})).catch((e=>{console.error("Failed to load sanitizer settings:",e)})),a}},se=[D,S,Q,Y,Z,G,O,oe,F,te,X,ae,z,M,ee,L,ne,J]}}]);