{"ast":null,"code":"import { Streamlit } from \"streamlit-component-lib\"; // Add text and a button to the DOM. (You could also add these directly\n// to index.html.)\n\nconst labelDiv = document.body.appendChild(document.createElement(\"label\"));\nconst label = labelDiv.appendChild(document.createTextNode(\"\"));\nconst imagesDiv = document.body.appendChild(document.createElement(\"div\"));\nimagesDiv.classList.add(\"image-picker\"); // let selectedIndex = 0\n// const span = document.body.appendChild(document.createElement(\"span\"))\n// const button = span.appendChild(document.createElement(\"button\"))\n// button.textContent = \"Click Me!\"\n// Add a click handler to our button. It will send data back to Streamlit.\n// let selectedIndex = 0\n// Streamlit.setComponentValue(selectedIndex)\n// let numClicks = 0\n// let isFocused = false\n// button.onclick = function (): void {\n//   // Increment numClicks, and pass the new value back to\n//   // Streamlit via `Streamlit.setComponentValue`.\n//   numClicks += 1\n//   Streamlit.setComponentValue(numClicks)\n// }\n// button.onfocus = function(): void {\n//   isFocused = true\n// }\n// button.onblur = function(): void {\n//   isFocused = false\n// }\n\n/**\n * The component's render function. This will be called immediately after\n * the component is initially loaded, and then again every time the\n * component gets new data from Python.\n */\n\nfunction onRender(event) {\n  // Get the RenderData from the event\n  const data = event.detail;\n\n  if (data.theme) {\n    labelDiv.style.font = data.theme.font;\n    labelDiv.style.color = data.theme.textColor;\n    document.body.querySelectorAll(\".option\").forEach(el => {// el.style.border_color = data.theme.fadedText10\n    });\n  }\n\n  console.log(data);\n  let images = data.args[\"images\"]; // console.log(data)\n  // console.log(images)\n  // Maintain compatibility with older versions of Streamlit that don't send\n  // a theme object.\n  // if (data.theme) {\n  //   // Use CSS vars to style our button border. Alternatively, the theme style\n  //   // is defined in the data.theme object.\n  //   const borderStyling = `1px solid var(${\n  //     isFocused ? \"--primary-color\" : \"gray\"\n  //   })`\n  //   button.style.border = borderStyling\n  //   button.style.outline = borderStyling\n  // }\n  // Disable our button if necessary.\n  // button.disabled = data.disabled\n  // RenderData.args is the JSON dictionary of arguments sent from the\n  // Python script.\n  // let name =\n  // Show \"Hello, name!\" with a non-breaking space afterwards.\n\n  label.textContent = data.args[\"label\"];\n\n  if (imagesDiv.childNodes.length === 0) {\n    images.forEach((image, i) => {\n      let imgDiv = imagesDiv.appendChild(document.createElement(\"div\"));\n      imgDiv.classList.add(\"option\");\n      let img = imgDiv.appendChild(document.createElement(\"img\"));\n      img.classList.add(\"thumbnail\");\n      img.src = image;\n      img.width = 100;\n\n      if (i === 0) {\n        imgDiv.classList.add(\"selected\");\n        img.classList.add(\"selected\");\n      }\n\n      img.onclick = function () {\n        imagesDiv.querySelectorAll(\".selected\").forEach(el => {\n          el.classList.remove(\"selected\");\n        });\n        Streamlit.setComponentValue(i);\n        imgDiv.classList.add(\"selected\");\n        img.classList.add(\"selected\");\n      };\n    });\n  } // We tell Streamlit to update our frameHeight after each render event, in\n  // case it has changed. (This isn't strictly necessary for the example\n  // because our height stays fixed, but this is a low-cost function, so\n  // there's no harm in doing it redundantly.)\n\n\n  Streamlit.setFrameHeight();\n} // Attach our `onRender` handler to Streamlit's render event.\n\n\nStreamlit.events.addEventListener(Streamlit.RENDER_EVENT, onRender); // Tell Streamlit we're ready to start receiving data. We won't get our\n// first RENDER_EVENT until we call this function.\n\nStreamlit.setComponentReady(); // Finally, tell Streamlit to update our initial height. We omit the\n// `height` parameter here to have it default to our scrollHeight.\n\nStreamlit.setFrameHeight();","map":{"version":3,"names":["Streamlit","labelDiv","document","body","appendChild","createElement","label","createTextNode","imagesDiv","classList","add","onRender","event","data","detail","theme","style","font","color","textColor","querySelectorAll","forEach","el","console","log","images","args","textContent","childNodes","length","image","i","imgDiv","img","src","width","onclick","remove","setComponentValue","setFrameHeight","events","addEventListener","RENDER_EVENT","setComponentReady"],"sources":["/Users/jrieke/Desktop/component-template/template-reactless/my_component/frontend/src/index.tsx"],"sourcesContent":["import { Streamlit, RenderData } from \"streamlit-component-lib\"\n\n// Add text and a button to the DOM. (You could also add these directly\n// to index.html.)\n\nconst labelDiv = document.body.appendChild(document.createElement(\"label\"))\nconst label = labelDiv.appendChild(document.createTextNode(\"\"))\nconst imagesDiv = document.body.appendChild(document.createElement(\"div\"))\nimagesDiv.classList.add(\"image-picker\")\n\n// let selectedIndex = 0\n// const span = document.body.appendChild(document.createElement(\"span\"))\n// const button = span.appendChild(document.createElement(\"button\"))\n// button.textContent = \"Click Me!\"\n\n// Add a click handler to our button. It will send data back to Streamlit.\n// let selectedIndex = 0\n// Streamlit.setComponentValue(selectedIndex)\n// let numClicks = 0\n// let isFocused = false\n// button.onclick = function (): void {\n//   // Increment numClicks, and pass the new value back to\n//   // Streamlit via `Streamlit.setComponentValue`.\n//   numClicks += 1\n//   Streamlit.setComponentValue(numClicks)\n// }\n\n// button.onfocus = function(): void {\n//   isFocused = true\n// }\n\n// button.onblur = function(): void {\n//   isFocused = false\n// }\n\n/**\n * The component's render function. This will be called immediately after\n * the component is initially loaded, and then again every time the\n * component gets new data from Python.\n */\nfunction onRender(event: Event): void {\n  // Get the RenderData from the event\n  const data = (event as CustomEvent<RenderData>).detail\n\n  if (data.theme) {\n    labelDiv.style.font = data.theme.font\n    labelDiv.style.color = data.theme.textColor\n    document.body.querySelectorAll(\".option\").forEach((el) => {\n      // el.style.border_color = data.theme.fadedText10\n    })\n\n  }\n\n  console.log(data)\n  let images = data.args[\"images\"]\n  // console.log(data)\n  // console.log(images)\n  // Maintain compatibility with older versions of Streamlit that don't send\n  // a theme object.\n  // if (data.theme) {\n  //   // Use CSS vars to style our button border. Alternatively, the theme style\n  //   // is defined in the data.theme object.\n  //   const borderStyling = `1px solid var(${\n  //     isFocused ? \"--primary-color\" : \"gray\"\n  //   })`\n  //   button.style.border = borderStyling\n  //   button.style.outline = borderStyling\n  // }\n\n  // Disable our button if necessary.\n  // button.disabled = data.disabled\n\n  // RenderData.args is the JSON dictionary of arguments sent from the\n  // Python script.\n  // let name =\n  // Show \"Hello, name!\" with a non-breaking space afterwards.\n  label.textContent = data.args[\"label\"]\n\n  if (imagesDiv.childNodes.length === 0) {\n    images.forEach((image: string, i: number) => {\n      let imgDiv = imagesDiv.appendChild(document.createElement(\"div\"))\n      imgDiv.classList.add(\"option\")\n\n      let img = imgDiv.appendChild(document.createElement(\"img\"))\n      img.classList.add(\"thumbnail\")\n      img.src = image\n      img.width = 100\n\n      if (i === 0) {\n        imgDiv.classList.add(\"selected\")\n        img.classList.add(\"selected\")\n      }\n\n      img.onclick = function () {\n        imagesDiv.querySelectorAll(\".selected\").forEach((el) => {\n          el.classList.remove(\"selected\")\n        })\n        Streamlit.setComponentValue(i)\n        imgDiv.classList.add(\"selected\")\n        img.classList.add(\"selected\")\n      }\n    })\n  }\n\n  // We tell Streamlit to update our frameHeight after each render event, in\n  // case it has changed. (This isn't strictly necessary for the example\n  // because our height stays fixed, but this is a low-cost function, so\n  // there's no harm in doing it redundantly.)\n  Streamlit.setFrameHeight()\n}\n\n// Attach our `onRender` handler to Streamlit's render event.\nStreamlit.events.addEventListener(Streamlit.RENDER_EVENT, onRender)\n\n// Tell Streamlit we're ready to start receiving data. We won't get our\n// first RENDER_EVENT until we call this function.\nStreamlit.setComponentReady()\n\n// Finally, tell Streamlit to update our initial height. We omit the\n// `height` parameter here to have it default to our scrollHeight.\nStreamlit.setFrameHeight()\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}