#!python
# This file is placed in the Public Domain.


__version__ = "100"


"24/7 channel daemon"


import atexit
import importlib
import os
import readline
import rlcompleter
import signal
import sys
import termios
import threading
import time
import traceback


from bot.handler import Callback, Command, Event, Handler, parse
from bot.object import Class, Object, Wd, keys, last, printable, update
from bot.object import find, fntime, items, save, update
from bot.handler import command, scan, scandir
from bot.util import elapsed, wait
from bot.irc import Config


from bot import cmds, irc, rss


Config.channel = "#botd"
Config.nick = "botd"
Config.username = "botd"
Config.realname = "24/7 channel daemon"


Wd.workdir = os.path.expanduser("/var/lib/botd/")


starttime = time.time()


scan(cmds)
scan(irc)
scan(rss)


def ver(event):
    event.reply("BOTD %s" % __version__)


def main():
    Command.add(ver)
    irc.init()
    rss.init()
    wait()


main()
