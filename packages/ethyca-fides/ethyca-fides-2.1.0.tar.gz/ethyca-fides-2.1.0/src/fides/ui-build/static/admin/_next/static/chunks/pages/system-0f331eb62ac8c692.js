(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[161],{23438:function(e,t,n){"use strict";n.d(t,{TX:function(){return o},NL:function(){return i}});var r=n(52565),s=n(89816),i={border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},o=(0,r.m$)("span",{baseStyle:i});s.Ts&&(o.displayName="VisuallyHidden");var a=(0,r.m$)("input",{baseStyle:i});s.Ts&&(a.displayName="VisuallyHiddenInput")},97142:function(e,t,n){"use strict";n.d(t,{T:function(){return s},C:function(){return i}});var r=n(14416),s=r.useDispatch,i=r.useSelector},58144:function(e,t,n){"use strict";var r=n(23296),s=n(1396),i=n(43894),o=n(85893);t.Z=function(e){var t=e.isOpen,n=e.onClose,a=e.onConfirm,c=e.title,u=e.message;return(0,o.jsxs)(r.u_,{isOpen:t,onClose:n,size:"lg",children:[(0,o.jsx)(r.ZA,{}),(0,o.jsxs)(r.hz,{textAlign:"center",p:2,"data-testid":"confirmation-modal",children:[(0,o.jsx)(r.xB,{fontWeight:"medium",children:c}),(0,o.jsx)(r.fe,{children:u}),(0,o.jsx)(r.mz,{children:(0,o.jsxs)(s.MI,{columns:2,width:"100%",children:[(0,o.jsx)(i.zx,{variant:"outline",mr:3,onClick:n,"data-testid":"cancel-btn",children:"Cancel"}),(0,o.jsx)(i.zx,{colorScheme:"primary",onClick:a,"data-testid":"continue-btn",children:"Continue"})]})})]})]})}},65698:function(e,t,n){"use strict";n.d(t,{D4:function(){return s.D4},e$:function(){return o},FM:function(){return a},Ot:function(){return c},tB:function(){return u},nU:function(){return d},MM:function(){return l}});var r=n(56661),s=n(27396),i="An unexpected error occurred. Please try again.",o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;if((0,s.Bw)(e)){if((0,s.hE)(e.data))return e.data.detail;if((0,s.cz)(e.data)){var n,r=null===(n=e.data.detail)||void 0===n?void 0:n[0];return"".concat(null===r||void 0===r?void 0:r.msg,": ").concat(null===r||void 0===r?void 0:r.loc)}if(409===e.status&&(0,s.Dy)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")");if(404===e.status&&(0,s.XD)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")")}return t},a=function(e){return(0,r.Ln)({name:"string"},e)&&"YAMLException"===e.name};function c(e){return"object"===typeof e&&null!=e&&"data"in e&&"string"===typeof e.data.detail}function u(e){return"object"===typeof e&&null!=e&&"data"in e&&Array.isArray(e.data.detail)}var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:i};if((0,s.oK)(e))return{status:e.originalStatus,message:e.data};if((0,s.Bw)(e)){var n=e.status;return{status:n,message:o(e,t.message)}}return t},l=function(e){return Object.entries(e).map((function(e){return{value:e[1],label:e[1]}}))}},10846:function(e,t,n){"use strict";n.d(t,{t:function(){return l},V:function(){return f}});var r=n(59499),s=n(1396),i=n(85893);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){var t=e.message;return(0,i.jsxs)(s.xv,{"data-testid":"toast-success-msg",children:[(0,i.jsx)("strong",{children:"Success:"})," ",t]})},u=function(e){var t=e.message;return(0,i.jsxs)(s.xv,{"data-testid":"toast-error-msg",children:[(0,i.jsx)("strong",{children:"Error:"})," ",t]})},d={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},l=function(e){var t=(0,i.jsx)(c,{message:e});return a(a({},d),{description:t})},f=function(e){var t=(0,i.jsx)(u,{message:e});return a(a({},d),{description:t,status:"error"})}},31617:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});var r=n(1396),s=n(43894),i=n(38351),o=n(41664),a=n(67294),c=n(13275),u=n(67087),d=n(92127),l=n(1902),f=n.n(l),m=n(85893),p=function(e){var t=e.columns,n=e.items,s=e.renderItem,i=(0,d.yo)(n,t);return(0,m.jsx)(r.xu,{children:i.map((function(e,n,i){var o=i.length;return(0,m.jsx)(r.xu,{className:f()["grid-row"],borderBottomWidth:o>1&&n===o-1&&e.length===t?"0.5px":void 0,children:(0,m.jsx)(r.MI,{columns:t,children:e.map((function(e){return(0,m.jsx)(r.xu,{className:f()["grid-item"],children:s(e)},JSON.stringify(e))}))})},JSON.stringify(e))}))})},h=n(59499),x=n(4730),y=n(7906),g=n(15545),j=["search","onChange"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){var t=e.search,n=e.onChange,r=(0,x.Z)(e,j);return(0,m.jsxs)(y.BZ,{size:"sm",minWidth:"308px",children:[(0,m.jsx)(y.Z8,{pointerEvents:"none",children:(0,m.jsx)(g.PT,{color:"gray.300",w:"17px",h:"17px"})}),(0,m.jsx)(y.II,b({autoComplete:"off",type:"search",minWidth:200,size:"sm",borderRadius:"md",value:t,name:"search",onChange:function(e){return n(e.target.value)}},r))]})},w=n(50029),_=n(16835),C=n(87794),S=n.n(C),N=n(20650),L=n(9555),P=n(75568),D=n(11163),k=n(97142),E=n(58144),z=n(65698),A=n(10846),Z=n(32523),B=function(e){var t=e.system,n=(0,N.qY)(),i=n.isOpen,o=n.onOpen,a=n.onClose,c=(0,L.pm)(),u=(0,k.T)(),d=(0,D.useRouter)(),l=(0,Z.DW)(),f=(0,_.Z)(l,1)[0],p=function(){var e=(0,w.Z)(S().mark((function e(){var n;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t.fides_key);case 2:n=e.sent,(0,z.D4)(n)?c((0,A.V)((0,z.e$)(n.error))):c((0,A.t)("Successfully deleted system")),a();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=""===t.name||null==t.name?t.fides_key:t.name;return(0,m.jsxs)(r.xu,{display:"flex","data-testid":"system-".concat(t.fides_key),children:[(0,m.jsxs)(r.xu,{flexGrow:1,p:4,children:[(0,m.jsx)(r.X6,{as:"h2",fontSize:"16px",mb:2,children:h}),(0,m.jsx)(r.xu,{color:"gray.600",fontSize:"14px",children:(0,m.jsx)(r.xv,{children:t.description})})]}),(0,m.jsxs)(P.v2,{children:[(0,m.jsx)(P.j2,{as:s.hU,icon:(0,m.jsx)(g.nX,{}),"aria-label":"more actions",variant:"unstyled",size:"sm","data-testid":"more-btn",m:1}),(0,m.jsxs)(P.qy,{children:[(0,m.jsx)(P.sN,{onClick:function(){u((0,Z.db)(t)),d.push("/system/new/configure")},"data-testid":"edit-btn",children:"Edit"}),(0,m.jsx)(P.sN,{onClick:o,"data-testid":"delete-btn",children:"Delete"})]})]}),(0,m.jsx)(E.Z,{isOpen:i,onClose:a,onConfirm:p,title:"Delete ".concat(h),message:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(r.xv,{children:["You are about to permanently delete the system"," ",(0,m.jsx)(r.xv,{color:"complimentary.500",as:"span",fontWeight:"bold",children:h}),"."]}),(0,m.jsx)(r.xv,{children:"Are you sure you would like to continue?"})]})})]})},M=function(e){var t=e.systems,n=(0,a.useState)(""),s=n[0],i=n[1],o=(0,a.useMemo)((function(){return t?t.filter((function(e){return function(e,t){var n,r;return(null===(n=e.name)||void 0===n?void 0:n.toLocaleLowerCase().includes(t.toLocaleLowerCase()))||(null===(r=e.description)||void 0===r?void 0:r.toLocaleLowerCase().includes(t.toLocaleLowerCase()))}(e,s)})):[]}),[t,s]);return t&&t.length?(0,m.jsxs)(r.xu,{"data-testid":"system-management",children:[(0,m.jsx)(r.xu,{mb:4,"data-testid":"system-filters",children:(0,m.jsx)(O,{search:s,onChange:i,maxWidth:"30vw",placeholder:"Search system name or description","data-testid":"system-search"})}),(0,m.jsx)(p,{columns:3,items:o,renderItem:function(e){return(0,m.jsx)(B,{system:e})}})]}):(0,m.jsx)("div",{"data-testid":"empty-state",children:"No systems registered."})},T=function(){var e=function(){var e=(0,u.K3)(),t=e.data;return{isLoading:e.isLoading,systems:t}}(),t=e.isLoading,n=e.systems;return(0,m.jsxs)(c.Z,{title:"Systems",children:[(0,m.jsxs)(r.xu,{display:"flex",justifyContent:"space-between",children:[(0,m.jsx)(r.X6,{mb:8,fontSize:"2xl",fontWeight:"semibold",children:"System Management"}),(0,m.jsx)(s.zx,{size:"sm",colorScheme:"primary",mr:2,"data-testid":"create-system-btn",children:(0,m.jsx)(o.default,{href:"/system/new",children:"Create New System"})})]}),t?(0,m.jsx)(i.$,{}):(0,m.jsx)(M,{systems:n})]})}},27396:function(e,t,n){"use strict";n.d(t,{D4:function(){return s},oK:function(){return i},Bw:function(){return o},hE:function(){return a},Dy:function(){return c},XD:function(){return u},cz:function(){return d}});var r=n(56661),s=function(e){return"error"in e},i=function(e){return(0,r.Ln)({status:"string"},e)&&"PARSING_ERROR"===e.status},o=function(e){return(0,r.Ln)({status:"number",data:{}},e)},a=function(e){return(0,r.Ln)({detail:"string"},e)},c=function(e){return(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e)},u=function(e){return(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e)},d=function(e){return(0,r.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},e)}},7552:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/system",function(){return n(31617)}])},1902:function(e){e.exports={"grid-row":"BorderGrid_grid-row__gzSVf","grid-item":"BorderGrid_grid-item__7gUTW"}},56661:function(e,t,n){"use strict";n.d(t,{Ln:function(){return r}});const r=(e,t)=>i(e,t),s=Symbol("SOME"),i=(e,t)=>{if("string"==typeof e)return e===typeof t;if(Array.isArray(e))return s in e?e.some((e=>i(e,t))):!!Array.isArray(t)&&(0===e.length||t.every((t=>e.some((e=>i(e,t))))));if("object"!=typeof t||null===t)return!1;const n=t;return Object.entries(e).every((([e,t])=>i(t,n[e])))};class o{static narrow(e){return new o((t=>r(e,t)))}constructor(e){this.NF=void 0,this.NF=e}satisfied(e){return this.NF(e)}build(e){return e}and(e){const t=this.NF,n=e instanceof o?e.NF:e instanceof Function?e:t=>r(e,t);return new o((e=>t(e)&&n(e)))}}new o((e=>!0))}},function(e){e.O(0,[636,296,76,275,774,888,179],(function(){return t=7552,e(e.s=t);var t}));var t=e.O();_N_E=t}]);