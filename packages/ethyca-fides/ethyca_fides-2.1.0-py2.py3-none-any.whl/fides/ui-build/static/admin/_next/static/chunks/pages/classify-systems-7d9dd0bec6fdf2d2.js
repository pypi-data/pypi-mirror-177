(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[738],{37903:function(e,t,s){"use strict";s.d(t,{Rt:function(){return u},cK:function(){return h}});var i=s(59499),n=s(27812),r=s(1396),c=s(35922),o=s(12156),a=s(85893);function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach((function(t){(0,i.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var u=function(e){var t,s,i,n,c=e.system,o=e.attribute;return"name"===o?(0,a.jsx)("label",{htmlFor:"checkbox-".concat(c.fides_key),children:c.name}):"fidesctl_meta.resource_id"===o?(0,a.jsx)(r.xu,{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",title:null===(t=c.fidesctl_meta)||void 0===t?void 0:t.resource_id,children:null===(s=c.fidesctl_meta)||void 0===s?void 0:s.resource_id}):(0,a.jsx)(a.Fragment,{children:(i=c,n=o,n.split(".").reduce((function(e,t){return e?e[t]:void 0}),i))})},h=function(e){var t=e.allSystems,s=e.checked,i=e.onChange,l=e.columns,h=e.tableHeadProps,f=function(e){var t=s.indexOf(e)>=0;i(t?s.filter((function(t){return t.fides_key!==e.fides_key})):[].concat((0,n.Z)(s),[e]))},p=t.length===s.length;return 0===l.length?(0,a.jsx)(r.xv,{children:"No columns selected to display"}):(0,a.jsxs)(c.iA,{size:"sm",sx:{tableLayout:"fixed"},children:[(0,a.jsx)(c.hr,d(d({},h),{},{children:(0,a.jsxs)(c.Tr,{children:[(0,a.jsx)(c.Th,{width:"15px",children:(0,a.jsx)(o.XZ,{colorScheme:"complimentary",title:"Select All",isChecked:p,onChange:function(e){e.target.checked?i(t):i([])}})}),l.map((function(e){return(0,a.jsx)(c.Th,{children:e.name},e.attribute)}))]})})),(0,a.jsx)(c.p3,{children:t.map((function(e){return(0,a.jsxs)(c.Tr,{children:[(0,a.jsx)(c.Td,{children:(0,a.jsx)(o.XZ,{colorScheme:"complimentary",value:e.fides_key,isChecked:s.indexOf(e)>=0,onChange:function(){return f(e)},"data-testid":"checkbox-".concat(e.fides_key)})}),l.map((function(t){return(0,a.jsx)(c.Td,{children:(0,a.jsx)(u,{system:e,attribute:t.attribute})},t.attribute)}))]},e.fides_key)}))})]})}},64330:function(e,t,s){"use strict";var i=s(59499),n=s(35839),r=s(1396),c=s(94053),o=s(85893);t.Z=function(e){var t=e.status,s=function(e){var t,s=e===c.j.DATASETS?"dataset":"system";return t={},(0,i.Z)(t,c.Wg.PROCESSING,{title:"Processing",tooltip:"This ".concat(s," is currently being ").concat("dataset"===s&&"generated and"," classified. You will be notified when this process is complete"),color:"orange"}),(0,i.Z)(t,c.Wg.CREATED,{title:"Processing",tooltip:"This ".concat(s," is currently being ").concat("dataset"===s&&"generated and"," and classified. You will be notified when this process is complete"),color:"orange"}),(0,i.Z)(t,c.Wg.COMPLETE,{title:"Awaiting Review",tooltip:"This ".concat(s," has been automatically classified. Review the results and update the ").concat(s,"."),color:"orange"}),(0,i.Z)(t,c.Wg.REVIEWED,{title:"Classified",tooltip:"This ".concat(s," has been classified."),color:"green"}),(0,i.Z)(t,c.Wg.FAILED,{title:"Failed",tooltip:"This ".concat(s," must be manually updated."),color:"red"}),(0,i.Z)(t,"unknown",{title:"Unknown",tooltip:"This ".concat(s," must be manually updated."),color:"gray"}),t}(e.resource)[null!==t&&void 0!==t?t:"unknown"];return(0,o.jsx)(n.u,{label:s.tooltip,children:(0,o.jsx)(r.Ct,{variant:"solid",colorScheme:s.color,children:s.title})})}},96633:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var i=s(1396),n=s(38351),r=s(11163),c=s(67294),o=s(13275),a=s(41438),l=s(67087),d=s(35922),u=s(14416),h=s(37903),f=s(64330),p=s(94053),m=s(85893),y=function(e){var t=e.systems,s=(0,u.useSelector)(a.s3);return(0,m.jsx)(i.Kq,{children:(0,m.jsxs)(d.iA,{size:"sm","data-testid":"systems-classify-table",children:[(0,m.jsx)(d.hr,{children:(0,m.jsxs)(d.Tr,{children:[(0,m.jsx)(d.Th,{children:"System Name"}),(0,m.jsx)(d.Th,{children:"Description"}),(0,m.jsx)(d.Th,{children:"Classification Status"})]})}),(0,m.jsx)(d.p3,{children:t.map((function(e){var t=s.get(e.fides_key);return(0,m.jsxs)(d.Tr,{"data-testid":"row-".concat(e.fides_key),children:[(0,m.jsx)(d.Td,{children:(0,m.jsx)(h.Rt,{system:e,attribute:"name"})}),(0,m.jsx)(d.Td,{children:(0,m.jsx)(h.Rt,{system:e,attribute:"description"})}),(0,m.jsx)(d.Td,{"data-testid":"status-".concat(e.fides_key),children:(0,m.jsx)(f.Z,{resource:p.j.SYSTEMS,status:null===t||void 0===t?void 0:t.status})})]},e.fides_key)}))})]})})},j=function(){var e=(0,r.useRouter)(),t=(0,a.x8)(),s=t.isSuccess,d=t.isLoading,u=(0,l.K3)(void 0,{skip:!s}),h=u.isLoading,f=u.data,j=(0,a.Wm)(void 0,{skip:!s}),x=j.isLoading,b=j.data;(0,c.useEffect)((function(){d||s||e.push("/")}),[e,s,d]);var g=h||x,v=!!b&&b.every((function(e){return e.status===p.Wg.COMPLETE||e.status===p.Wg.FAILED||e.status===p.Wg.REVIEWED}));return(0,m.jsx)(o.Z,{title:"Classify Systems",children:(0,m.jsxs)(i.Kq,{spacing:4,children:[(0,m.jsx)(i.X6,{fontSize:"2xl",fontWeight:"semibold",children:"Classified systems"}),(0,m.jsx)(i.xv,{children:v?"All systems have been classifed by Fides.":"Systems are still being classified by Fides."}),g?(0,m.jsx)(n.$,{}):null,f&&b?(0,m.jsx)(y,{systems:f}):"No systems with classifications found"]})})}},21741:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/classify-systems",function(){return s(96633)}])}},function(e){e.O(0,[636,156,22,275,774,888,179],(function(){return t=21741,e(e.s=t);var t}));var t=e.O();_N_E=t}]);